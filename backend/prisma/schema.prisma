datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Card {
  CardId           String   @id @default(uuid())
  CardName         String
  CharacterId      String
  UnitId           String
  RarityId         String
  AvailabilityId   String
  ReleaseDate      DateTime
  CardImg          String
  CardImgTrained   String
  AttributeId      String
  EventId          String

  //Relations:

  Character        Character   @relation(fields: [CharacterId], references: [CharacterId])
  Unit             Unit       @relation(fields: [UnitId], references: [UnitId])
  Rarity           Rarity      @relation(fields: [RarityId], references: [RarityId])
  Availability     Availability @relation(fields: [AvailabilityId], references: [AvailabilityId])
  Attribute        Attribute   @relation(fields: [AttributeId], references: [AttributeId])
  Event            Event       @relation(fields: [EventId], references: [EventId])
}

model Character {
  CharacterId   String   @id @default(uuid())
  CharacterName String   @unique

  Cards         Card[]
}

model Unit {
  UnitId    String   @id @default(uuid())
  UnitName  String   @unique

  Cards     Card[]
}

model Rarity {
  RarityId  String   @id @default(uuid())
  Rarity    String   @unique

  Cards     Card[]
}

model Availability {
  AvailabilityId  String   @id @default(uuid())
  Availability    String   @unique

  Cards           Card[]
}

model Attribute {
  AttributeId   String   @id @default(uuid())
  AttributeName String   @unique

  Cards         Card[]
}

model Event {
  EventId    String   @id @default(uuid())
  EventName  String   @unique

  Cards      Card[]
}